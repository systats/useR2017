---
title: ''
output:
  html_document: default
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, eval = FALSE)
```

```{r, eval = F, echo = F}
# devtools::install_github("hadley/emo")
```



<img src="images/logo/user2017.jpg" align = "left" width = "60%">

<img src="images/logo/r_group_logo.jpg" align = "center" width = "20%">

<br>

Liebe R-Community,

Die diesjährige `useR!` Conference findet in Brüssel vom 03.-07.07. statt. Rebecca, Fabio und Simon fassen hier ihre Konferenznotizen zusammen. Eine Übersicht aller angebotenen Workshops kann man [hier](https://user2017.brussels/schedule) finden. 




# Day 1 Wild Gallery (9:00-18:00h)

### Sports Analytics with R
by [*Stephanie Kovalchik*](s.a.kovalchik@gmail.com) (Australische Firma)

__Packages__

[Github repo](https://github.com/skoval/deuce)
```{r}
# devtools::install_github("skoval/deuce")
```


Der Vortrag umfasste eine Vielzahl von Themen, die von A-Z mit der Modellierung von Sportwetten zu tun haben. Einzig eine Wette wurde nicht platziert `r emo::ji("geek")`. Zu erst wurden verschiedene Arten von Datenquellen besprochen:

1. Box Scores (single sporting events)
2. Performance Metrices (repeated measures timeseries)
3. Tracking Data *spatio-temporal* data (geo position, touch downs etc.)
4. Wearables (sensor-supported measuring)

__Packages and Websites__

* General: 
    + `stattleshipR`
    + `SportAnalytics`
    + `odds.converter` (data api)
* Soccer
    + [`engsoccerdata`](https://github.com/jalapic/engsoccerdata)
    + [Deutsche Bundesliga Daten (1+2)](http://www.football-data.co.uk/germanym.php) von Saison 1993/1994 bis 2016/2017.
* Baseball
    + `pitchRx`
    + `Lahman`
* Tennis
    + `deuce`: tennis data from different web sources 
* Cricket
    + `crickestr!`

__Web scraping__

Wenn Informationen nicht als Datensatz zur Verfügung stehen (was selten der Fall ist für Sportwetten) kommt [web scraping](https://en.wikipedia.org/wiki/Web_scraping) zum Einsatz. 
```{r}
library(rvest)
library(dplyr)

url <- "http://www.basketball-reference.com/boxscores/"
webpage <- read_html(url)

dt <- webpage %>% 
  html_nodes(css = "table") %>% 
  html_table()

dt <- webpage %>% 
  html_nodes(xpath = '//*[(@id = "divs_standings_E")]') %>% 
  html_table(header = T)
```

Des Weiteren wurde die Wichtigkeit von Data Checking unterstrichen. 

```{r}
library(gtools)

for(name in names(dt)) {
  print(name)
  print(sort(unique(dt[, name])))
  ask()
}
```

Als nächstes wurde der einfache Umgang mit Dates gezeigt.

* `dmy`
* `mdy`
* `ymd`

Keine Format parameter oder delimiter nötig.

```{r}
library(lubridate)
# replace original var and extract year
data <-data %>% 
  dplyr::mutate(
    Date = dmy(Date),
    Year = year(Date)
  )
```


Außerdem wurde gezeigt wie eine Funktion auf eine Reihe von Variablen angewendet werden kann.

```{r}
data %>% 
  select(var01:var10) %>% 
  summarise_all(
    funs(sum(is.na(.)))
  )
```


------

### Data Carpentry: Open and Reproducible Research with R

The goal of this tutorial is to teach participants the skills and perspectives needed to conduct open research with R, including literate programming and best practices in sharing and publishing code and data. We will focus on how to make the work navigable, interpretable, and repeatable by others. This tutorial is modified from the Data Carpentry "Reproducible Research with R" workshop, and we will focus on an exemplar project to model the workflow of going from code and data to a published, archived product.

[Data Carpentry Github](https://fmichonneau.github.io/2017-useR-tutorial/)

### SOLVING ITERATION PROBLEMS WITH PURRR



# Talk: Updates to the Documentation System for R  
*Andrew Redd, R documentation Task Force*    

- full class system for documentation  
- can document anything: functions, objects, dataframes,...  
- formats or input and output support decided
- stored as a meta obbject similar to class definitions for S4 and reference classes  

**MANY IN-MANY OUT DESIGN SYSTEM**  

All documentation into an object and then create ti XML, static Html, rd 

**CURRENT STATE**  

**parsetools** 

```{r, echo=T, eval=F}
#install.packages("parsetools")
libary(parsetools)  
options(keep.source = T)  
pd <- get_parse_data(parse(text="x <- rnorm(100)"))
kable(pd[c(-1,-2)])
#get_pd_assign_variable....
```


**Documentation**  
format languages: markdown, yaml

```{r, echo=T, eval=F}
#install.packages("documentation")
library(documentation)  

# documentation class
x <- documentation("Documentation", ...)

#convert to rd
toRd(x)
options(keep.source = T)  
pd <- get_parse_data(parse(text="x <- rnorm(100)"))
kable(pd[c(-1,-2)])
#get_pd_assign_variable....
```

**Text ectraction**  
tidyverse  

Tests are valid Rcode and should be in a R file, same things for examples

put in if fals "testing block"

test_that


# Talk: When is an Outlier and Outlier? The O3 plot  
*Antony Unwin*  

What to do about outliers?  

- identify as potential outliers
- deal with outliers  
- understand outliers  
- look for additional information on those cases
- use graphics

**use O3 plot:** 

potential outiers, variabe combination similar parterns, similar outliers, low-d combinations
> carries out mutiple testing and the test are not independent
> cells can be shaded to show different levels of outlieingsness (colored by various alpha levels)

- keep in mind: the choice of population to compare outliers to is very important but also the choice of varibales compared to each other. 


# Talk: Curve Linear Regression with **clr**  
*Amandine Pierrot, Yanning Goude, Yiwei Yao*  

```{r, eval=F, ech=T}
#install.packages("clr")
#library(clr)

softplus <- function(x) log(1+exp(x))
relu <- function(x) sapply(x, function(z) max(0,z))

x <- seq(from=-5, to=5, by=0.1)
library(ggplot2)
library(reshape2)

fits <- data.frame(x=x, relu = relu(x))
long <- melt(fits, id.vars="x")
ggplot(data=long, aes(x=x, y=value, group=variable, colour=variable))+
  geom_line(size=1) +
  theme(plot.title = element_text(size = 26)) +
  theme_minimal() +
  theme(legend.position = "none")

```


# Talk: ICAOD - An R Package to Find Optimal Designs for Nonlinear Models  
*Ehsan Masoudi*  

Imperialist Competetive Algorithm

R Package: ICAOD  



# Talk: Maps are data, so why plot data on a map?  
Rebecca kam zu spät.
=======
[PURRR](https://github.com/cwickham/purrr-tutorial)

### Introduction to Natural Language Processing with R

[NLP Introduction workshop](https://github.com/statsmaths/user2017_nlp)

[cleanNLP package](https://github.com/statsmaths/cleanNLP)


------

# Day 2 Wild Gallery (9:00-18:00h)  

### Sponsor Talk: Microsoft  


### Keynote Speech: Structural Equation Modeling: models, software and stories
> Yves Rosseel (Gent University, Belgium)
http://users.ugent.be/~yrossee...

### rob-ets

```{r}
model <- ets(y)
plot(model)
```



# Talk: Architectural Elements Enabling R for Big Data  
```{r, echo = T, eval = F}
#install.packages("ORE")
library(ORE)
```

=======


### Talk: Updates to the Documentation System for R  






# Sponsortalk: Data Camp
=======
### Talk: When is an Outlier and Outlier? The O3 plot  


### Talk: Curve Linear Regression with **clr**  

### Talk: ICAOD - An R Package to Find Optimal Designs for Nonlinear Models 

### Talk: Maps are data, so why plot data on a map?  

### Talk: R-Ladies Global Community  

### Talk: Architectural Elements Enabling R for Big Data  

### Talk: A Tidy Data Model for Natural Language Processing  

### Talk: kmlShape - clustering longitudinal data according to their shapes  

### Talk: Natural Embeddings and NLP with R and Spark  

### Sponsortalk: Data Camp

### Keynote Speech: Teaching data science to new useRs


